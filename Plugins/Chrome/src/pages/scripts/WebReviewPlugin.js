function WebReviewPlugin (server) {	this.server = server;}WebReviewPlugin.prototype.getReview = function getReview (id, callback) {	var request = new XMLHttpRequest();	request.addEventListener("error", function () {		callback({error: "Failed to load review, do you have an internet connection?"});	});	request.addEventListener("load", function () {		callback(JSON.parse(request.responseText));	}, false);	request.open("GET", this.server + "/review/" + id);	request.send();};WebReviewPlugin.prototype.search = function search (query, callback) {	var request = new XMLHttpRequest();	request.addEventListener("error", function () {		callback({error: "Failed to load reviews, do you have an internet connection?"});	});	request.addEventListener("load", function () {		callback(JSON.parse(request.responseText));	}, false);	request.open("GET", this.server + "/search/" + encodeURIComponent(query));	request.send();};WebReviewPlugin.prototype.getReviews = function getReviews (domain, callback) {	var request = new XMLHttpRequest();	request.addEventListener("error", function () {		callback({error: "Failed to load reviews, do you have an internet connection?"});	});	request.addEventListener("load", function () {		callback(JSON.parse(request.responseText));	}, false);	request.open("GET", this.server + "/domain/" + encodeURIComponent(domain));	request.send();};WebReviewPlugin.prototype.getDomReview = function (jsonReview) {	var review = document.createElement("div");	review.className = "smallreview";		review.appendChild(this.newDomSpan(jsonReview.reviewedDomain, ""));	review.appendChild(document.createElement("br"));		review.appendChild(this.newDomSpan("Date: ", "reviewlabel label"));	review.appendChild(this.newDomSpan(new Date(jsonReview.reviewedTime).toLocaleString(), ""));	review.appendChild(document.createElement("br"));		review.appendChild(this.newDomSpan("Desc: ", "reviewlabel label"));	review.appendChild(this.newDomSpan(jsonReview.shortDescription, ""));	review.appendChild(document.createElement("br"));		if (jsonReview.longDescription) {		review.appendChild(this.newDomSpan("Full desc: ", "reviewlabel label"));		review.appendChild(this.newDomSpan(jsonReview.longDescription, ""));		review.appendChild(document.createElement("br"));	} else {		review.appendChild(this.newDomMoreInfoButton(jsonReview.reviewId));	}		return review;};WebReviewPlugin.prototype.newDomSpan = function (innerText, className) {	var span = document.createElement("span");	span.appendChild(document.createTextNode(innerText));	span.className = className;	return span;};WebReviewPlugin.prototype.newDomMoreInfoButton = function (id) {	var anchor = document.createElement("a");	anchor.href = "review.html?id=" + id;	var button = anchor.appendChild(document.createElement("div"));	button.className = "moreinfobutton button";	button.innerText = "More about this review";	return anchor;};var reviewPlugin = new WebReviewPlugin("http://reviews.squarific.com");